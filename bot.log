2025-04-08 21:17:27,233 - __main__ - INFO - Starting bot polling...
2025-04-08 21:17:31,615 - support.sup_employer - ERROR - Error in show_project_employer: 'list' object has no attribute 'to_dict'
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\support\sup_employer.py", line 84, in show_project_employer
    bot.edit_message_text(
    ~~~~~~~~~~~~~~~~~~~~~^
        chat_id = user_id ,
        ^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        reply_markup=markup
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 4974, in edit_message_text
    result = apihelper.edit_message_text(
        self.token, text, chat_id=chat_id, message_id=message_id, inline_message_id=inline_message_id,
        parse_mode=parse_mode, entities=entities, reply_markup=reply_markup, link_preview_options=link_preview_options,
        business_connection_id=business_connection_id, timeout=timeout)
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\apihelper.py", line 1500, in edit_message_text
    payload['reply_markup'] = _convert_markup(reply_markup)
                              ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\apihelper.py", line 2285, in _convert_markup
    return markup.to_json()
           ~~~~~~~~~~~~~~^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\types.py", line 2888, in to_json
    return json.dumps(self.to_dict())
                      ~~~~~~~~~~~~^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\types.py", line 2892, in to_dict
    json_dict['inline_keyboard'] = [[button.to_dict() for button in row] for row in self.keyboard]
                                     ^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'to_dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\support\sup_employer.py", line 92, in show_project_employer
    new_message = bot.send_message(user_id , message , reply_markup=markup)
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1800, in send_message
    apihelper.send_message(
    ~~~~~~~~~~~~~~~~~~~~~~^
        self.token, chat_id, text,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        reply_parameters=reply_parameters, link_preview_options=link_preview_options, business_connection_id=business_connection_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        message_effect_id=message_effect_id, allow_paid_broadcast=allow_paid_broadcast))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\apihelper.py", line 254, in send_message
    payload['reply_markup'] = _convert_markup(reply_markup)
                              ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\apihelper.py", line 2285, in _convert_markup
    return markup.to_json()
           ~~~~~~~~~~~~~~^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\types.py", line 2888, in to_json
    return json.dumps(self.to_dict())
                      ~~~~~~~~~~~~^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\types.py", line 2892, in to_dict
    json_dict['inline_keyboard'] = [[button.to_dict() for button in row] for row in self.keyboard]
                                     ^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'to_dict'
2025-04-08 21:21:56,747 - __main__ - INFO - Starting bot polling...
2025-04-08 21:22:03,671 - support.sup_employer - ERROR - Error editing message: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message can't be edited
2025-04-08 21:22:06,593 - __main__ - ERROR - Error in polling: 'str' object has no attribute 'starswith'
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\main.py", line 40, in main
    bot.polling(none_stop=True)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 9229, in _run_middlewares_and_handler
    if self._test_message_handler(handler, message):
       ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 9158, in _test_message_handler
    if not self._test_filter(message_filter, filter_value, message):
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 9182, in _test_filter
    return filter_value(message)
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\handlers\h_employer.py", line 250, in <lambda>
    @bot.callback_query_handler(func=lambda call: call.data.starswith('employer_project_prev_' , 'employer_project_next_'))
                                                  ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'starswith'. Did you mean: 'startswith'?
2025-04-08 21:22:21,600 - __main__ - INFO - Starting bot polling...
2025-04-08 21:22:21,603 - __main__ - ERROR - Error in polling: 'str' object has no attribute 'starswith'
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\main.py", line 40, in main
    bot.polling(none_stop=True)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 9229, in _run_middlewares_and_handler
    if self._test_message_handler(handler, message):
       ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 9158, in _test_message_handler
    if not self._test_filter(message_filter, filter_value, message):
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\.venv\Lib\site-packages\telebot\__init__.py", line 9182, in _test_filter
    return filter_value(message)
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\handlers\h_employer.py", line 250, in <lambda>
    @bot.callback_query_handler(func=lambda call: call.data.starswith('employer_project_prev_' , 'employer_project_next_'))
                                                  ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'starswith'. Did you mean: 'startswith'?
2025-04-08 21:22:36,613 - __main__ - INFO - Starting bot polling...
2025-04-08 21:30:25,098 - __main__ - INFO - Starting bot polling...
2025-04-08 21:33:08,658 - __main__ - INFO - Starting bot polling...
2025-04-08 21:35:08,061 - __main__ - INFO - Starting bot polling...
2025-04-08 21:35:56,958 - __main__ - INFO - Starting bot polling...
2025-04-08 21:36:02,224 - DataBase.db_general - ERROR - Error in update_project_status: no such column: app_id
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\DataBase\db_general.py", line 256, in update_project_status
    cursor.execute(
    ~~~~~~~~~~~~~~^
        "SELECT app_id FROM projects WHERE project_id = ? LIMIT 1",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (project_id,)
        ^^^^^^^^^^^^^
    )
    ^
sqlite3.OperationalError: no such column: app_id
2025-04-08 21:37:19,476 - __main__ - INFO - Starting bot polling...
2025-04-08 21:37:23,921 - DataBase.db_general - ERROR - Error project with ID 0  not found in the projects table
2025-04-08 21:38:06,333 - __main__ - INFO - Starting bot polling...
2025-04-08 21:41:38,425 - __main__ - INFO - Starting bot polling...
2025-04-08 21:41:41,401 - DataBase.db_general - ERROR - Error in get_project_detalis: near "p": syntax error
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\DataBase\db_general.py", line 131, in get_project_details
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        SELECT
        ^^^^^^
    ...<4 lines>...
        WHERE p.status != 'canceled' p.project_id = ?
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                   """ , (project_id , ))
                   ^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: near "p": syntax error
2025-04-08 21:41:41,404 - support.sup_employer - ERROR - Error in show_project_employer: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\support\sup_employer.py", line 27, in show_project_employer
    status_text, show_executor = status_info.get(project['status'], ('Неизвестный статус', None))
                                                 ~~~~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-04-08 21:43:16,270 - __main__ - INFO - Starting bot polling...
2025-04-08 21:43:20,443 - support.sup_employer - ERROR - Error in show_project_employer: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "d:\my\.hobby\code\CHVK_romashki-main\beta 1.1.0\support\sup_employer.py", line 27, in show_project_employer
    status_text, show_executor = status_info.get(project['status'], ('Неизвестный статус', None))
                                                 ~~~~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-04-08 21:46:32,713 - __main__ - INFO - Starting bot polling...
2025-04-08 21:46:39,582 - DataBase.db_employer - ERROR - Error in get_projects_id_employer: no such column: p.status
